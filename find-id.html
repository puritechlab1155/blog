<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta charset="UTF-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <title>Blog | 아이디찾기</title>
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"/>
        <link
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
            rel="stylesheet">
        <link rel="stylesheet" href="/css/common.css">
        <link rel="stylesheet" href="/css/main.css">
        <link rel="stylesheet" href="/css/login.css">

    </head>
    <body>
        <header class="header">
            <div class="header-contain">
                <h1>
                    <a class="logo" href="index.html">BLOG SITE</a>
                </h1>
                <div class="header-right">
                    <div class="search-container">
                        <input type="text" placeholder="키워드를 입력하세요." class="search-input"/>
                        <button type="button" class="search-submit"><img src="img/common/search2.png" alt="돋보기 이미지"></button>
                    </div>
                    <button type="button" class="icon-area">
                        <img src="img/common/search.png" alt="돋보기 이미지" class="search-icon">
                        <img src="img/common/close.png" alt="돋보기 이미지" class="close-icon">
                    </button>
                    <button type="button" class="ham-box" id="menuBtn">
                        <span class="ham"></span>
                        <span class="ham"></span>
                        <span class="ham"></span>
                    </button>
                </div>
            </div>
        </header>
        <!-- 메뉴 패널 -->
        <div class="menu-panel" id="menuPanel">
            <ul class="menu-list-box">
                <a href="#">
                    <li class="panel-list">About</li>
                </a>
                <a href="#">
                    <li class="panel-list">Home</li>
                </a>
                <a href="#">
                    <li class="panel-list">Blog</li>
                </a>
                <a href="#">
                    <li class="panel-list">Contact</li>
                </a>
            </ul>
        </div>
        <!-- 여기까지 메뉴 패널 -->

        <div class="content-wrap">
            <!-- 컨텐츠 시작 -->
            <div id="main" class="user-auth">
                <div class="user-auth-wrap find-wrap">
                    <h3 class="main-title paperlogy">내 계정 찾기</h3>
                    <div class="guide-title">
                        가입 당시 입력한 휴대번호를 입력해주세요<br class="mob-br">
                        인증번호를 발송해드립니다
                    </div>
                    <ul class="tab-view">
                        <li class="tab-active">아이디 찾기</li>
                        <li class="tab-disb">비밀번호 찾기</li>
                    </ul>
                    <div class="input_wrap">
                        <div class="input_container">
                            <label for="phone" class="label-flex">
                                <input class="input-01" type="tel" id="phone" placeholder="휴대전화">
                            </label>
                            <button class="btn-01" type="button">인증번호 전송</button>
                        </div>
                        <div class="input_container m-t-20">
                            <label for="code" class="label-flex">
                                <input class="input-01" id="code" type="text" placeholder="인증번호">
                            </label>
                            <button class="btn-04" type="button">확인</button>
                        </div>
                    </div>
                    <div class="btn_wrap">
                        <button
                            type="button"
                            class="user-btn"
                            onclick="location.href='find-id-complete.html'">아이디 찾기</button>
                    </div>
                </div>
            </div>
            <!-- 여기까지 컨텐츠 -->
        </div>

        <!-- 푸터 -->
        <footer class="footer">
            <div class="footer-contain">
                <!-- 소셜 아이콘 -->
                <div class="social-icons">
                    <a href="https://www.facebook.com" target="_blank">
                        <img src="/img/common/facebook.png" alt="facebook">
                    </a>
                    <a href="https://www.spacex.com" target="_blank">
                        <img src="/img/common/xmark.png" alt="xmark">
                    </a>
                    <a href="https://www.instagram.com" target="_blank">
                        <img src="/img/common/instagram.png" alt="instagram">
                    </a>
                    <a href="https://blog.naver.com" target="_blank">
                        <img src="/img/common/blogger.png" alt="blogger">
                    </a>
                    <a href="https://www.youtube.com" target="_blank">
                        <img src="/img/common/youtube.png" alt="youtube">
                    </a>
                    <a href="mailto:example@email.com">
                        <img src="/img/common/email.png" alt="email">
                    </a>
                </div>

                <div class="footer-text">
                    BlogStory Ⓒ 2025 Magazine Lab
                </div>

            </div>
        </footer>

        <script src="/js/script.js"></script>
        <script>
            //-- 인증번호 전송 버튼 클릭 이벤트
            let countdowns = new Map();

            document
                .querySelectorAll(".codeBtn")
                .forEach((btn) => {
                    btn.addEventListener("click", function () {
                        if (countdowns.has(btn)) 
                            return;
                        
                        alert("인증번호가 전송되었습니다.");

                        let timeLeft = 180;
                        btn.disabled = true;
                        btn.textContent = `남은 시간 : ${timeLeft}초`;

                        // 개별 버튼의 카운트다운 실행
                        let countdown = setInterval(function () {
                            timeLeft--;
                            btn.textContent = `남은 시간 : ${timeLeft}초`;

                            if (timeLeft <= 0) {
                                clearInterval(countdown);
                                btn.disabled = false;
                                btn.textContent = "인증번호 받기";
                                countdowns.delete(btn);

                                // 타이머 종료 후 .checkBtn 스타일 원래대로 복구 (선택 사항)
                                if (checkBtn) {
                                    checkBtn
                                        .classList
                                        .remove("codeBtn");
                                }
                            }
                        }, 1000);

                        countdowns.set(btn, countdown);
                    });
                });

            // -- 인증번호 입력란 포커스 시 확인 버튼 활성화 스타일
            const NfocusBtn = document.querySelector(".n-focusBtn");
            const codeInput = document.querySelector("#code");

            codeInput.addEventListener("focus", function () {
                NfocusBtn.style.borderColor = "#5228F4";
                NfocusBtn.style.color = "#5228F4";
                NfocusBtn.style.background = "#FAFAFA";
            });

            codeInput.addEventListener("blur", function () {
                if (codeInput.value.length === 0) {
                    NfocusBtn.style.borderColor = ""; // 기본값으로 되돌리기
                    NfocusBtn.style.color = "";
                    NfocusBtn.style.background = "";
                }
            });

            // -- 인증번호 입력 시 확인 버튼 스타일 변경
            codeInput.addEventListener("input", function () {
                if (codeInput.value.length > 0) {
                    checkBtn.style.borderColor = "#5228F4";
                    checkBtn.style.color = "#5228F4";
                    checkBtn.style.background = "#FAFAFA";
                } else {
                    checkBtn.style.borderColor = "";
                    checkBtn.style.color = "";
                    checkBtn.style.background = "";
                }
            });

            // -- 휴대전화, 인증번호 인풋 숫자만 입력
            document
                .querySelectorAll("#phone, #code")
                .forEach((input) => {
                    input.addEventListener("input", function () {
                        this.value = this
                            .value
                            .replace(/[^0-9]/g, ""); // 숫자만 입력 가능
                    });
                });
        </script>
    </body>
</html>